describe("Calculator", function() {

    describe("Validations", function() {

	beforeEach(function () {
	    $('#calcContainer').css("display", "none");
	    $.ajax({
		async: false,
		dataType: 'html',
		url: 'index.html',
		success: function(data) {
		    $('#calcContainer').html($(data));
		}
	    });
	});


	it("should allow valid numbers", function() {
	    expect(InputValidator.validateData(3, 'number')).toBeTruthy();
	});

	it("should show errors when given invalid number", function() {
	    InputValidator.validateData('a','number');
	    var output = document.getElementById("answer").value;
	    expect(output).toEqual("Error: Invalid/empty operand");
	    document.getElementById("answer").value = "";
	});

	it("should allow valid operators", function() {
	    expect(InputValidator.validateData("+", 'operator')).toBeTruthy();
	});

	it("should show errors when given operator", function() {
	    InputValidator.validateData('/3', 'operator');
	    var output = document.getElementById("answer").value;
	    expect(output).toEqual("Error: Invalid/empty operator");
	    document.getElementById("answer").value = "";
	});
    });

    describe("Core functions", function() {
	it("should be able to add two numbers", function() {
	    expect(Calculator.calculate(2,'+',3)).toEqual(5);
	});
	
	it("should be able to subtract two numbers", function() {
	    expect(Calculator.calculate(2,'-',3)).toEqual(-1);
	});
	
	it("should be able to multiply two numbers", function() {
	    expect(Calculator.calculate(2,'*',3)).toEqual(6);
	});
	
	it("should be able to divide two numbers", function() {
	    expect(Calculator.calculate(3,'/',2)).toEqual(1.5);
	});
    });
});